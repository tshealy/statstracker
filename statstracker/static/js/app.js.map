{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/controllers/activity.js","src/js/controllers/home.js","src/js/controllers/instances.js","src/js/controllers/new-activity-controller.js","src/js/init.js","src/js/router.js","src/js/sorted-router.js"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\n\nrouter.route('activity/:id', function () {\n  var activityHTML = views['activity'];\n\n  $('.main-content').html(activityHTML);\n\n});\n","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\n\nrouter.route('', 'index', function () {\n  var activityHTML = views['home'];\n\n  $('.main-content').html(activityHTML);\n\n});\n\n$(function() {\n\n  var csrftoken = getCookie('csrftoken');\n\n  $.ajax({\n    headers: { \"X-CSRFToken\": csrftoken },\n    url: '/api/activities/',\n    method: 'GET',\n    type: 'application/json'\n  })\n  .done(function(data) {\n    console.log(data.length);\n    for (var i = 0; i < data.length; i++) {\n      var title = $(data[i]).attr('title');\n      console.log(title);\n      var contentHtml = '<li class=\"activity-li\">' + title + '<a href=\"#instances\"><span class=\"add-instance\">+</span></a></li>'\n      $('.activity-ul').append(contentHtml);\n  }\n    console.log('pass');\n  })\n  .fail(function() {\n    alert( \"error\" );\n  });\n\nfunction getCookie(name) {\n var cookieValue = null;\n if (document.cookie && document.cookie != '') {\n     var cookies = document.cookie.split(';');\n     for (var i = 0; i < cookies.length; i++) {\n         var cookie = $.trim(cookies[i]);\n         // Does this cookie string begin with the name we want?\n         if (cookie.substring(0, name.length + 1) == (name + '=')) {\n             cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n             break;\n         }\n     }\n }\n return cookieValue;\n}\nvar csrftoken = getCookie('csrftoken');\n\nconsole.log(csrftoken)\n\n});\n","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\n\nrouter.route('instances', function () {\n  var activityHTML = views['instances'];\n\n  $('.main-content').html(activityHTML);\n\n});\n","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\n\n\nrouter.route('new-activity', function () {\n  var activityHTML = views['new-activity'];\n\n  $('.main-content').html(activityHTML);\n\n});\n\n$(function() {\n  $('input').focusin(function() {\n    $(this).siblings('span').addClass('focus-in');\n  });\n\n  $('input').focusout(function() {\n    var characters = $(this).val();\n    if (characters === '') {\n    $(this).siblings('span').removeClass('focus-in');\n  }\n  });\n\n  var csrftoken = getCookie('csrftoken');\n\n  $('.login-form').submit(function(e) {\n    e.preventDefault();\n\n    var title = $('.activity-title').val();\n    console.log(title);\n\n    $.ajax({\n      headers: { \"X-CSRFToken\": csrftoken },\n      url: '/api/activities/',\n      method: 'POST',\n      data: ({\n        id: 50,\n        profile: 10,\n        title: title\n      }),\n    })\n    .done(function(data){\n      alert('posted');\n      console.log(data);\n    })\n    .fail(function() {\n      alert('didnt post');\n    });\n    window.location = '';\n  });\n\n\n\n\n  function getCookie(name) {\n   var cookieValue = null;\n   if (document.cookie && document.cookie != '') {\n       var cookies = document.cookie.split(';');\n       for (var i = 0; i < cookies.length; i++) {\n           var cookie = $.trim(cookies[i]);\n           // Does this cookie string begin with the name we want?\n           if (cookie.substring(0, name.length + 1) == (name + '=')) {\n               cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n               break;\n           }\n       }\n   }\n   return cookieValue;\n  }\n  var csrftoken = getCookie('csrftoken');\n\n\n\n});\n","'use strict';\n\n\nvar router = require('./router');\n\n//Require all of our controllers\n({\"controllers\":({\"activity\":require(\"./controllers/activity.js\"),\"home\":require(\"./controllers/home.js\"),\"instances\":require(\"./controllers/instances.js\"),\"new-activity-controller\":require(\"./controllers/new-activity-controller.js\")})});\n\n// Start the router\nrouter.init();\n","'use strict';\n\nvar SortedRouter = require('./sorted-router');\n\nmodule.exports = new SortedRouter();\n","'use strict';\n\nvar Backbone = require('backbone');\nvar _ = require('underscore');\n\nvar SortedRouter = Backbone.Router.extend({\n  sortedRoutes: {},\n\n  // Overwrite the Backbone.Router.route method so we can\n  // register routes in the correct order.\n  route: function () {\n    var len = arguments.length - 1,\n        callback = arguments[arguments.length - 1];\n\n    for (var i = 0; i < len; ++i) {\n      this.sortedRoutes[arguments[i]] = callback;\n    }\n  },\n\n  init: function () {\n    // A magic number to force a route to be lowest specificity\n    // Number.MIN_VALUE didn't work...\n    var lowestRoute = -1000000;\n    var me = this;\n\n    // Register all routes, sorted by specificity\n    _.chain(_.pairs(this.sortedRoutes))\n      .sortBy(function (route) {\n        var url = route[0];\n\n        if (url.indexOf('*') >= 0) {\n          return lowestRoute;\n        } else {\n          return -url.split(':').length;\n        }\n      })\n      .each(function (route) {\n        Backbone.Router.prototype.route.apply(me, route);\n      });\n\n    // Start the backbone routing subsystem\n    Backbone.history.start();\n  }\n});\n\nmodule.exports = SortedRouter;\n"]}